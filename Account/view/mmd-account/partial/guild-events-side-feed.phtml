<?php

use Mmd\Event\Entity\Raid;

/** @var Raid[] $feed */
?>
<div class="s-widget m-b-15">
    <h2 class="tile-title"><?= $this->translate('События гильдий'); ?></h2>
    <div class="s-widget-body">
        <?php if (empty($feed)) : ?>
            <div class="text-muted">
                <?= $this->translate('Тут будут показаны ближайшие события Ваших гильдий'); ?>
            </div>
        <?php else: ?>
            <ul class="s-feed list-unstyled">
                <?php foreach ($feed as $raid) : ?>
                    <li class="m-b-10 s-feed-item">
                        <div class="item-title">
                            <a href="<?= $this->url('guild/raid.details', ['id' => $raid->getId(),]); ?>">
                                <?= $this->escapeHtml($raid->getEvent()->getTitle()); ?>
                            </a>
                        </div>
                        <small class="item-meta text-muted">
                            <span class="fa m-r-5 fa-calendar"></span>
                            <?= $raid->getDate()->format('d.m.Y, H:i'); ?>
                        </small>
                        <small class="item-meta text-muted">
                            <?= $this->escapeHtml($raid->getGuild()->getName()); ?>
                        </small>
                    </li>
                <?php endforeach; ?>
            </ul>
        <?php endif; ?>
    </div>
</div>
